<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Binary Verilog HDL for SCSI phases state machine</title>
</head>

<body>

<p align="center"><img border="0" src="../jpgs/bigsur_communications.jpg" width="284" height="100"></p>
<p align="center"><u><font size="4" color="#FF0000"><b>Verilog HDL (Binary) For
SCSI phases state machine</b></font></u></p>
<p align="left"><font size="4"><b><a href="../../index.html">HOME</a></b></font></p>
<font SIZE="2">
<p style="word-spacing: 0; margin: 0">//////////////////////////////////////////</p>
<p style="word-spacing: 0; margin: 0">// Verilog Code generated by SDDesigner</p>
<p style="word-spacing: 0; margin: 0">// 8/21/2001 5:34:38 PM</p>
<p style="word-spacing: 0; margin: 0">//////////////////////////////////////////</p>
<p style="word-spacing: 0; margin: 0">module scsi_bus_phases(clk,</p>
<p style="word-spacing: 0; margin: 0">nrst,</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">//Inputs</p>
<p style="word-spacing: 0; margin: 0">input clk;</p>
<p style="word-spacing: 0; margin: 0">input nrst;</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">//State encoding</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Message IN = 4'd 0;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Arbitration = 4'd 1;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Selection = 4'd 2;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Message OUT = 4'd 3;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] COMMAND = 4'd 4;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Data IN = 4'd 5;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Status = 4'd 6;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Bus Free = 4'd 7;</p>
<p style="word-spacing: 0; margin: 0">parameter [ 3:0] Reselection = 4'd 8;</p>
<p style="word-spacing: 0; margin: 0">reg [ 3:0] State_Name;</p>
<p style="word-spacing: 0; margin: 0">//Combinatorical actions</p>
<p style="word-spacing: 0; margin: 0">always @(State_Name)</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">casex (State_Name)</p>
<p style="word-spacing: 0; margin: 0">Message IN:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Arbitration:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Selection:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Message OUT:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">COMMAND:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Data IN:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Status:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Bus Free:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Reselection:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">&nbsp;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">endcase</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">//FF actions</p>
<p style="word-spacing: 0; margin: 0">always @(negedge nrst or posedge clk)</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">if (nrst == 0)</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Bus Free;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">else</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">casex (State_Name)</p>
<p style="word-spacing: 0; margin: 0">Message IN:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Bus Free;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Data IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= COMMAND;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message OUT;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Status;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Arbitration:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Selection;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Reselection;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Selection:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Message OUT;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Bus Free;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Message OUT:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= COMMAND;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Data IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Status;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Bus Free;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">COMMAND:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Data IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Status;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message OUT;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Data IN:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Status;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message OUT;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Status:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Message IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Message OUT;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Bus Free:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Arbitration;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">Reselection:</p>
<p style="word-spacing: 0; margin: 0">begin</p>
<p style="word-spacing: 0; margin: 0">State_Name &lt;= Message IN;</p>
<p style="word-spacing: 0; margin: 0">else State_Name &lt;= Bus Free;</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">endcase</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">end</p>
<p style="word-spacing: 0; margin: 0">endmodule</p>
</font>

</body>

</html>
